# 第2章 物理层

## 物理层基本概念

物理层关注的是 **如何在连接各种计算机的传输媒体上传输数据流**。

物理层的任务是尽可能屏蔽掉不同传输媒体和通信手段间的差异，使链路层感受不到这种差异。

> **物理层主要任务**：确定与传输媒体的接口有关的一些特性
> 
> - **机械特性**：指明接口所用接线器的形状、尺寸等机械特性。
> - **电气特性**：指明接口电缆的各条线上的电压的范围。
> - **功能特性**：指明电线上某一电平的电压的意义。
> - **过程特性**：指明不同功能的各种可能事件的出现顺序。

数据在计算机内部一般是 **并行传输**，但 **在通信线路上是串行传输**，所以物理层还要完成传输方式的转换。

物理层协议很多，因为物理连接的方式很多，传输媒体的种类也很多。

## 数据通信基础知识

### 数据通信系统模型

通信的目的是传送消息，**数据是运送消息的实体**，**信号是数据的电气或电磁的表现**。

如下图，一个数据通信系统可划分为 **源系统**、**传输系统**、**目的系统**，或称为发送端、传输网络、接收端。

![数据通信系统模型](images/数据通信系统模型.jpg)

- 源系统包括源点和发送器。
  - **源点**：源点设备产生要传输的数据
  - **发送器**：源点生成的数字比特流要通过发送器编码后才能在传输系统中传输；如 **调制器**
- 目的系统包括接收器和终点。
  - **接收器**：接收传输系统发送来的信号，并转换成能被目的设备处理的信息；如 **解调器**
  - **终点**：终点设备从接收器获取传送来的数字比特流，然后把信息输出

> [!tip]
> 一些常用术语：
> 
> - **消息**：通信的目的是传送消息，如语音、文字、图像、视频等
> - **数据**：是运送消息的实体；使用特定方式表示的信息，通常是有意义的符号序列
> - **信号**：数据的电气或电磁表现
>   - **模拟信号**(连续信号)：代表消息的参数取值是连续的
>   - **数字信号**(离散信号)：代表消息的参数的取值是离散的
>       - **码元**：代表不同离散数值的基本波形

### 有关信道的基本概念

> 信道不等于电路，**信道表示向某一方向传送信息的媒体**，一条通信电路通常包含一条发送信道和一条接受信道。

#### 通信方式

信息交互有以下三种基本方式：
- **单向通信**，又称 **单工通信**。如有线电广播等。需要一条信道。
- **双向交替通信**，又称 **半双工通信**。需要两条信道。
- **双向同时通信**，又称 **全双工通信**。需要两条信道。

### 调制

来自信源的信号称为 **基带信号**，因为基带信号中包含较多低频成分，而 **许多信道不能传输低频分量和直流分量**，所以需要 **对基带信号调制**。

调制可分为以下两大类：
- **基带调制**：将数字信号转换为另一种数字信号。又称 **编码**。
- **带通调制**：将基带信号的频率范围转换为另一频段，并化为模拟信号。

#### 常用编码方式：
![常用编码方式](images/常用编码方式.png)

- **不归零制**：正电平代表1，负电平代表0。
- **归零制**：正脉冲代表1，负脉冲代表0。
- **曼彻斯特编码**：位周期中心的向上跳变代表0，向下跳变代表1。
- **差分曼彻斯特编码**：每一位的中心都有跳变。位开始的边界有跳变代表0，没有代表1。

> 曼彻斯特码的频率比不归零制高，但有自同步能力，即可以从信号波形自身中提取信号时钟频率

#### 基本的带通调制方法：
![基本的带通调制方法](images/基本的带通调制方法.png)

- **调幅**：载波的振幅随基带数字信号而变化；如0或1分别对应无载波或有载波输出
- **调频**：载波的频率随基带数字信号而变化；如0或1分别对应频率f1或f2
- **调相**：载波的初始相位随基带数字信号而变化；如0或1分别对应于相位0度或180度

### 信道的极限容量

数字通信的优点：信号在信道上传输时必然会失真，但只要能识别出原有信号，就没有影响。

传输速率越高，或距离越远，或噪声越大，失真就越严重。

限制码元在信道上传输速率的因素：
1. 信道能够通过的频率范围
2. 信噪比

#### 信道能够通过的频率范围

> 定义
> 
> 码间串扰：信号中高频分类受到衰减，在接收端收到的波形前沿和后沿不那么陡峭，每个码元所占时间界限不明确，失去了码元间的清晰界限的现象

**奈氏准则**：在任何信道，码元传输的速率是有上限的，超过上限就会出现严重的码间串扰，使接收端对码元无法识别

#### 信噪比

> 定义
> 
> 信号的平均功率和噪声的平均功率之比，记作 $S/N$，单位是分贝 $dB$
$$
 \text{信噪比}(dB) = 10\ \log_{10}(S/N)\ (dB) 
$$

> **香农公式：**
> 
> 设信道的极限信息传输速率为 $C$
> $$
> C = W\ \log_2(1+S/N)\ (bit/s)
> $$
> 其中 $W$ 为信道带宽，$S$ 为信道内所传信号的平均功率，$N$ 为信道内部的高斯噪声功率

香农公式表明，**信道的带宽或信道中的信噪比越大，信息的极限传输速率就越高**

香农公式的意义：只要信息传输速率低于信道的极限速率，就一定存在某种方法来实现无差错的传输

## 物理层下面的传输媒体

传输媒体：是数据传输系统中在发送器和接收器之间的物理通路

传输媒体分为 **导引型** 和 **非导引型** 两大类。

导引型中电磁波沿着固体媒体传播，非导引型中传输媒体就是自由空间，又称无线传输。

- **引导型**：
  - 双绞线
  - 同轴电缆
  - 光纤
- **非引导型**：
  - 电磁波无线传输


